<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=390, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>KÖNIGIN - Home</title>
  <link rel="stylesheet" href="../../style/home.css">
  <link rel="stylesheet" href="../../style/footer.css">
  <link rel="stylesheet" href="../../style/wine-menu.css">
  <link rel="stylesheet" href="../../style/mobile.css">
  <script src="../../js/wine-menu.js" defer></script>

  <style>
:root{
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

 html, body {
      margin: 0; padding: 0;
      width: 100vw;
      height: 100vh;
      background: #191919;
      overflow: hidden;
    }
    .app-frame {
      width: 100vw;
      height: 100vh;
      max-width: 100vw;
      max-height: 100vh;
      position: relative;
      margin: 0;
      border-radius: 0;
      overflow: hidden;
      box-shadow: none;
      background: #191919;
      padding-top: env(safe-area-inset-top, 0px);
      padding-bottom: calc(clamp(56px, 9vh, 72px) + var(--safe-bottom) + 20px);

      /* 完全填充屏幕 */
      top: 0; left: 0; right: 0; bottom: 0;
      box-sizing: border-box;
    }
    .main-bg {
      position: absolute;
      left: 0; top: 0;
      width: 100%;
      height: 100%;
      background: url('../../img/public/public_bg.png') center center/cover no-repeat;
      background-size: cover;
      background-position: center;
      z-index: 1;
      /* 由app-frame控制圆角 */
    }
    
    .title {
      position: absolute;
      top: 10%; left: 50%;
      transform: translateX(-50%) scale(1.5);
      width: 120vw; height: 20vw;
      max-width: 300px; max-height: 80px;
      min-width: 200px; min-height: 50px;
      background: url('../../img/public/title.png') center center/contain no-repeat;
      z-index: 3;
      pointer-events: none;
    }
    

    
    /* Yes按钮样式 */
    .yes-button {
      position: absolute;
      top: 70%; left: 50%;
      transform: translateX(-50%);
      width: 120px; height: 50px;
      background: #7e7d7d;
      border: 2px solid #42403d;
      border-radius: 25px;
      cursor: pointer;
      opacity: 0;
      transition: all 0.6s ease-out;
      box-shadow: 0 4px 15px rgba(218, 165, 32, 0.3);
      z-index: 4;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    
    .yes-button.show {
      opacity: 1;
    }
    
    .yes-button:hover {
      transform: translateX(-50%) scale(1.05);
      box-shadow: 0 6px 20px rgba(218, 165, 32, 0.5);
    }
    
    .yes-button:active {
      transform: translateX(-50%) scale(0.95);
      box-shadow: 0 2px 10px rgba(218, 165, 32, 0.2);
    }
    
    .yes-text {
      color: #e3c67e;
      font-size: 18px;
      font-weight: 700;
      font-family: "Arial", sans-serif;
      text-transform: uppercase;
      letter-spacing: 2px;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
      user-select: none;
    }
    

    
    /* 装饰性public title图片 */
    .public-title-decoration {
      position: absolute;
      top: 58%; left: 50%;
      transform: translateX(-50%) scale(0.8);
      width: 80vw; height: 20vw;
      max-width: 300px; max-height: 80px;
      min-width: 200px; min-height: 50px;
      background: url('../../img/public/public_title.png') center center/contain no-repeat;
      z-index: 2;
      opacity: 0;
      transition: transform 0.8s ease-out, opacity 0.8s ease-out;
      animation: decoration-breathing 3s ease-in-out infinite;
    }
    
    .public-title-decoration.show {
      transform: translateX(-50%) scale(1);
      opacity: 1;
    }
    
    @keyframes decoration-breathing {
      0%, 100% {
        transform: translateX(-50%) scale(1);
        filter: brightness(1);
      }
      50% {
        transform: translateX(-50%) scale(1.02);
        filter: brightness(1.1);
      }
    }
    

    .bottom-mask {
      position: absolute;
      left: 0; bottom: 0;
      width: 100%;
      height: 92px;  /* 可覆盖footer高度+阴影 */
      background: #191919;
      border-bottom-left-radius: 0;
      border-bottom-right-radius: 0;
      z-index: 3;
      pointer-events: none;
    }  

    /* 酒单样式 */
    .wine-menu-overlay {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .wine-menu-overlay.show {
      opacity: 1;
      visibility: visible;
    }

    .wine-menu-container {
      position: absolute;
      bottom: 0; left: 0;
      width: 100%;
      height: 85vh;
      background: linear-gradient(135deg, #8B4513 0%, #A0522D 50%, #CD853F 100%);
      border-top-left-radius: 20px;
      border-top-right-radius: 20px;
      transform: translateY(100%);
      transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      overflow: hidden;
    }

    .wine-menu-overlay.show .wine-menu-container {
      transform: translateY(0);
    }

    .wine-menu-header {
      position: relative;
      padding: 20px;
      text-align: center;
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
    }

    .wine-menu-title {
      font-size: 24px;
      font-weight: bold;
      color: #FFF;
      margin: 0;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    .wine-menu-close {
      position: absolute;
      top: 20px; right: 20px;
      width: 30px; height: 30px;
      background: rgba(255, 255, 255, 0.2);
      border: none;
      border-radius: 50%;
      color: #FFF;
      font-size: 18px;
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .wine-menu-close:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.1);
    }

    .filter-chips {
      display: flex;
      gap: 10px;
      padding: 15px 20px;
      overflow-x: auto;
      background: rgba(255, 255, 255, 0.05);
    }

    .filter-chip {
      padding: 8px 16px;
      background: rgba(255, 255, 255, 0.2);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 20px;
      color: #FFF;
      font-size: 14px;
      cursor: pointer;
      white-space: nowrap;
      transition: all 0.3s ease;
    }

    .filter-chip.active {
      background: rgba(255, 255, 255, 0.4);
      border-color: rgba(255, 255, 255, 0.6);
      transform: scale(1.05);
    }

    .wine-cards-container {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .wine-card {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      padding: 20px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
      transform: translateY(20px);
      opacity: 0;
    }

    .wine-card.show {
      transform: translateY(0);
      opacity: 1;
    }

    .wine-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      border-color: rgba(255, 255, 255, 0.4);
    }

    .wine-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .wine-info {
      flex: 1;
    }

    .wine-name {
      font-size: 18px;
      font-weight: bold;
      color: #FFF;
      margin: 0 0 5px 0;
    }

    .wine-subtitle {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.8);
      margin: 0;
    }

    .wine-abv {
      background: rgba(255, 255, 255, 0.2);
      padding: 4px 8px;
      border-radius: 10px;
      font-size: 12px;
      color: #FFF;
      font-weight: bold;
    }

    .wine-details {
      display: flex;
      gap: 15px;
      margin-bottom: 15px;
    }

    .wine-detail {
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 12px;
      color: rgba(255, 255, 255, 0.7);
    }

    .wine-detail-label {
      font-weight: bold;
    }

    .wine-note {
      font-size: 14px;
      color: rgba(255, 255, 255, 0.9);
      font-style: italic;
      margin-bottom: 15px;
      line-height: 1.4;
    }

    .wine-enter-btn {
      background: linear-gradient(45deg, #FFD700, #FFA500);
      border: none;
      padding: 10px 20px;
      border-radius: 25px;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
    }

    .wine-enter-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
    }

    /* 玻璃背柜效果 */
    .wine-menu-container::before {
      content: '';
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="glass" x="0" y="0" width="20" height="20" patternUnits="userSpaceOnUse"><rect width="20" height="20" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23glass)"/></svg>');
      opacity: 0.3;
      pointer-events: none;
    }

    </style>
</head>
<body>
  <div class="app-frame">
    <div class="main-bg"></div>
    <div class="title"></div>
    <!-- Yes按钮 -->
    <button class="yes-button" id="yesButton">
      <span class="yes-text">yes</span>
    </button>
    <!-- 装饰性图片 -->
    <div class="public-title-decoration" id="decoration"></div>
  </div>
  <!-- 如果你底部有圆角遮罩可以用 -->
  <div class="bottom-mask"></div>

  <!-- 酒单弹窗 -->
  <div class="wine-menu-overlay" id="wineMenuOverlay">
    <div class="wine-list-wrapper">
      <div class="wine-list">
        <div class="wine-list-viewport" id="wineListViewport">
          <!-- 酒水选项将通过JavaScript动态生成 -->
        </div>
      </div>
      <div class="wine-scrollbar">
        <div class="track"></div>
        <div class="thumb"></div>
      </div>
    </div>
  </div>



  <!-- Footer自动插入点 -->
  <div id="footer-placeholder"></div>
<script src="../../js/footer.js"></script>
<script>
// 页面初始化
document.addEventListener('DOMContentLoaded', function() {
  console.log('Public page loaded');
  
  // 检查背景图片
  const mainBg = document.querySelector('.main-bg');
  if (mainBg) {
    console.log('Main background element found');
    console.log('Background style:', mainBg.style.background);
  } else {
    console.error('Main background element not found');
  }
  
  // 检查标题元素
  const titleElement = document.querySelector('.title');
  if (titleElement) {
    console.log('Title element found');
    console.log('Title background style:', titleElement.style.background);
  } else {
    console.error('Title element not found');
  }
  
  // 检查装饰图片元素
  const decorationElement = document.querySelector('.public-title-decoration');
  if (decorationElement) {
    console.log('Decoration element found');
    // 添加装饰图片的浮出动画
    setTimeout(() => {
      decorationElement.classList.add('show');
      console.log('Added show class to decoration');
    }, 300);
  } else {
    console.error('Decoration element not found');
  }
  
  // 检查Yes按钮元素
  const yesButtonElement = document.querySelector('.yes-button');
  if (yesButtonElement) {
    console.log('Yes button element found');
  } else {
    console.error('Yes button element not found');
  }
  
  // Yes按钮点击事件
  const yesButton = document.getElementById('yesButton');
  
  if (yesButton) {
    console.log('Yes button found, adding event listeners');
    
    // 添加浮出动画
    setTimeout(() => {
      yesButton.classList.add('show');
      console.log('Added show class to yes button');
    }, 400);
    
    const handleYesButtonClick = function(e) {
      e.preventDefault();
      e.stopPropagation();
      console.log('Yes button clicked/touched');
      
      // 打开酒单
      openWineMenu();
    };
    
    yesButton.addEventListener('click', handleYesButtonClick);
    yesButton.addEventListener('touchend', handleYesButtonClick);
    console.log('Yes button event listeners added');
  } else {
    console.error('Yes button not found');
  }
  
  // 检查footer是否加载
  setTimeout(() => {
    const footer = document.querySelector('.bottom-nav');
    if (footer) {
      console.log('Footer loaded successfully');
    } else {
      console.log('Footer not found, checking placeholder');
      const placeholder = document.getElementById('footer-placeholder');
      console.log('Footer placeholder:', placeholder);
    }
  }, 1000);
});
</script>
</body>
</html>
